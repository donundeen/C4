<head>
  <title>C5</title>
</head>

<body>

  <div class="main container">
    <div class="header container">
      <div class="container-item">
        <h1><a href="/">C5</a></h1>
      </div>
      <div class="container-item" align="center">
        <h2>{{#if pageurl}}Page for {{pageurl}}{{else}}Home{{/if}}</h2>
      </div>       
      <!--
      <div class="container-item tooltipped" align="center" alt="add widget">
        <li class="headericon addwidget ion-plus-circled" data-pack="ios" data-tags="add, include, new, +" title="add widget" style="display: inline-block;"></li><br>add
      </div>
    -->
      <div class="container-item" align="center">       
        <li class="headericon test ion-pizza" data-pack="default" data-tags="" title="random testing button, click with caution" style="display: inline-block;"></li><BR>test
      </div>
      <div class="container-item tooltip-right" align="center" title="create new widget copied from another widget">       
          <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown"  aria-haspopup="true" aria-expanded="true">
        <li class="headericon new_from_template ion-paper-airplane" data-pack="default" data-tags="" alt="copy from widget" style="display: inline-block;"></li>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
            {{#each widgetTemplates}}
              <li><!--<i class="icon ion-close-circled deletetemplate"  title="remove this as a template"></i>--><a href="#" class="copy_from_template {{url}}" target="{{url}}" type="data"><i class="widgetIdText">{{url}}:</i> {{name}}</a></li>
            {{/each}}
          </ul>
      </div>
      <div class="container-item widgetmenu unlockall" title="click to lock all widgets" style="display:none">
        <li class="headericon ion-unlocked edit" id="unlock_{{url}}" data-pack="default" data-tags="" style="display: inline-block;"></li>
      </div>
      <div class="container-item widgetmenu lockall" title="click to unlock all widgets">
        <li class="headericon ion-locked display" id="lock_{{url}}" data-pack="default" data-tags="" style="display: inline-block;"></li>
      </div>

    </div><BR>
    <div class="widgets container">
      {{#each widgets}}
        {{> widget }}
      {{/each}}
    </div>
  </div>
</body>




<template name="widget">
  <div class="widgetContainer container-item" id="widgetContainer_{{url}}" style="{{widgetStyle}}">
    <div class="widgetHeader">
      <div class="container-item">
      <B class="widgetName">{{> editableText collection="widgets" field="name"}}</b><span class="editmodeonly widgetIdText"> uid: {{url}}/{{pageurl}}</span>
      </div>
      <div class="container-item widgetmenu unlock" title="click to lock widget" style="display:none">
        <li class="widgeticon ion-unlocked edit" id="unlock_{{url}}" data-pack="default" data-tags="" style="display: inline-block;"></li>
      </div>
      <div class="container-item widgetmenu lock" title="click to unlock widget">
        <li class="widgeticon ion-locked display" id="lock_{{url}}" data-pack="default" data-tags="" style="display: inline-block;"></li>
      </div>
      <div class="container-item widgetmenu test editmodeonly" align="center" title="random testing button. click with caution">       
        <li class="widgeticon test ion-pizza" data-pack="default" data-tags="" alt="random testing button" style="display: inline-block;"></li>
      </div>
      <div class="container-item widgetmenu save_template editmodeonly" align="center" title="save this widget as a reusable template (will show up in the header drop down with the same icon).">       
        <li class="widgeticon save_template ion-paper-airplane       {{#if isTemplate}}
isWidget{{/if}}" data-pack="default" data-tags="" alt="save as a reusable template" style="display: inline-block;"></li>
      </div>
      <div class="container-item widgetmenu save editmodeonly" align="center" title="save this widget">       
        <li class="widgeticon save ion-ios-upload " data-pack="default" data-tags="" alt="save widget" style="display: inline-block;"></li>
      </div>
      <div class="container-item widgetmenu editmodeonly" align="center" title="pull data from another widget on this page (dropdown).">
        <div class="dropdown">
          <button class="btn btn-default dropdown-toggle tooltipped" alt="alt tooltip" type="button" id="dropdownMenu1_{{url}}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" data-tooltip="pull data from widget">
            Pull from
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownMenu1_{{url}}">
            {{#each otherwidgets}}
              <li><a href="#" class="add_code {{url}}" data-pullfrom="{{url}}" data-pulltype="data"><i class="widgetIDText" data-pullfrom="{{url}}" data-pulltype="data">{{url}}</i>: {{name}} (data)</a></li>
              <li><a href="#" class="add_code {{url}}" data-pullfrom="{{url}}" data-pulltype="html"><i class="widgetIDText" data-pullfrom="{{url}}" data-pulltype="html">{{url}}</i>: {{name}} (html)</a></li>
<li role="separator" class="divider"></li>              
            {{/each}}
          </ul>
        </div>
      </div>

      <div class="container-item editmodeonly" >
        <div class="widgetDescription">
          <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#widgetDescEdit_{{url}}" aria-expanded="false" aria-controls="widgetDescEdit_{{url}}" title="Click to see/edit full description"><i>{{shortIt description 15}}</i></button>
          <div class="collapse" id="widgetDescEdit_{{url}}">
            <div class="well">
              <i class="widgetDescriptionEdit">{{> editableText collection="widgets" textarea=true acceptEmpty=true field="description"}}</i>
            </div>
          </div>
        </div>
      </div>


      <div class="container-item editmodeonly" >
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#widgetStyleEdit_{{url}}" aria-expanded="false" aria-controls="widgetStyleEdit_{{url}}" title="CSS Style for this Widget's Display Mode">
            <li class="widgeticon ion-social-css3"  data-pack="ios" style="display: inline-block;"></li>
        </button>
        <div class="collapse" id="widgetStyleEdit_{{url}}">
          <div class="well">
            {{> editableText title="." textarea=true acceptEmpty=true collection="widgets" field="widgetStyle" placeholder="enter valid css for 'style' attribute"}}
          </div>
        </div>
      </div>
      <div class="container-item editmodeonly"><a href="/headless/{{url}}/{{pagetype}}/{{pageid}}" target="_blank">{{url}}/{{pagetype}}/{{pageid}}</a></div>

      <div class="container-item widgetmenu editmodeonly menuspacer">&nbsp;</div> 


      <div class="container-item widgetmenu editmodeonly deletewidget" title="delete this widget">
        <li class="widgeticon ion-ios-trash-outline delete" id="delete_{{url}}" data-pack="ios" data-tags="delete, remove, dispose, waste, basket, dump, kill" style="display: inline-block;"></li>
      </div>
    </div>
<!-- end of menu header -->

    <div class="widgetBody">
      <a class="jsbin jsbin-embed jsbin-embed-dyn" id="jsbin_{{url}}" href="http://localhost/jsbin/{{url}}/latest/edit?output&pagetype={{pagetype}}&pageid={{pageid}}">JS Bin....{{url}}: {{widgetStyle}}</a>
      <script src="http://localhost/jsbin/js/embed.js"></script>
    </div>
  </div>
</template>
